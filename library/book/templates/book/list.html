{% extends 'parent/base.html' %}
{% block title %}Book List{% endblock %}
{% block head %}<h2>Book List</h2>{% endblock %}

{% block content %}
    <form method="get" action="{% url 'book:search_books' %}">
        <div>
            <label for="query">Search:</label>
            <input type="text" id="query" name="query" placeholder="Search by name or author" value="{{ request.GET.query }}"/>
        </div>
        <button type="submit">
            <i class="fa fa_search"></i> Search
        </button>
    </form>
    <form method="get" action="{% url 'book:filter_books' %}">
        <div>
            <label for="price">Filter by Price:</label>
            <input type="number" id="price" name="price" placeholder="price" step="1"/>
        </div>
        <div>
            <label for="date">Filter by Publication Date (year):</label>
            <input type="number" id="date" name="date" placeholder="year"/>
        </div>
        <button type="submit">
            <i class="fa fa_filter"></i> Filter
        </button>
    </form>
    {% for book in books %}
        <h3>
            <a href="{% url 'book:book_detail' book.id %}">{{ book.name }}</a>
        </h3>
        <p>{{book.author}}</p>
        <hr>
    {% endfor %}

    <hr>
    <h3><a href="{% url 'book:add_book' %}">add book</a></h3>
{% endblock %}
